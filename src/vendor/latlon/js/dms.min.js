/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - -  */
/*  Geodesy representation conversion functions  (c) Chris Veness 2002-2015  */
/*   - www.movable-type.co.uk/scripts/latlong.html              MIT Licence  */
/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - -  */
"use strict";var Dms={};Dms.parseDMS=function(a){if("number"==typeof a&&isFinite(a))return Number(a);var b=String(a).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""==b[b.length-1]&&b.splice(b.length-1),""==b)return NaN;var c;switch(b.length){case 3:c=b[0]/1+b[1]/60+b[2]/3600;break;case 2:c=b[0]/1+b[1]/60;break;case 1:c=b[0];break;default:return NaN}return/^-|[WS]$/i.test(a.trim())&&(c=-c),Number(c)},Dms.toDMS=function(a,b,c){if(isNaN(a))return null;if(void 0===b&&(b="dms"),void 0===c)switch(b){case"d":case"deg":c=4;break;case"dm":case"deg+min":c=2;break;case"dms":case"deg+min+sec":c=0;break;default:b="dms",c=0}a=Math.abs(a);var d,e,f,g;switch(b){default:case"d":case"deg":e=a.toFixed(c),100>e&&(e="0"+e),10>e&&(e="0"+e),d=e+"°";break;case"dm":case"deg+min":var h=(60*a).toFixed(c);e=Math.floor(h/60),f=(h%60).toFixed(c),100>e&&(e="0"+e),10>e&&(e="0"+e),10>f&&(f="0"+f),d=e+"°"+f+"′";break;case"dms":case"deg+min+sec":var i=(3600*a).toFixed(c);e=Math.floor(i/3600),f=Math.floor(i/60)%60,g=(i%60).toFixed(c),100>e&&(e="0"+e),10>e&&(e="0"+e),10>f&&(f="0"+f),10>g&&(g="0"+g),d=e+"°"+f+"′"+g+"″"}return d},Dms.toLat=function(a,b,c){var d=Dms.toDMS(a,b,c);return null===d?"–":d.slice(1)+(0>a?"S":"N")},Dms.toLon=function(a,b,c){var d=Dms.toDMS(a,b,c);return null===d?"–":d+(0>a?"W":"E")},Dms.toBrng=function(a,b,c){a=(Number(a)+360)%360;var d=Dms.toDMS(a,b,c);return null===d?"–":d.replace("360","0")},Dms.compassPoint=function(a,b){void 0===b&&(b=3),a=(a%360+360)%360;var c;switch(b){case 1:switch(Math.round(4*a/360)%4){case 0:c="N";break;case 1:c="E";break;case 2:c="S";break;case 3:c="W"}break;case 2:switch(Math.round(8*a/360)%8){case 0:c="N";break;case 1:c="NE";break;case 2:c="E";break;case 3:c="SE";break;case 4:c="S";break;case 5:c="SW";break;case 6:c="W";break;case 7:c="NW"}break;case 3:switch(Math.round(16*a/360)%16){case 0:c="N";break;case 1:c="NNE";break;case 2:c="NE";break;case 3:c="ENE";break;case 4:c="E";break;case 5:c="ESE";break;case 6:c="SE";break;case 7:c="SSE";break;case 8:c="S";break;case 9:c="SSW";break;case 10:c="SW";break;case 11:c="WSW";break;case 12:c="W";break;case 13:c="WNW";break;case 14:c="NW";break;case 15:c="NNW"}break;default:throw new RangeError("Precision must be between 1 and 3")}return c},void 0===String.prototype.trim&&(String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")}),"undefined"!=typeof module&&module.exports&&(module.exports=Dms),"function"==typeof define&&define.amd&&define([],function(){return Dms});